<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, maximum-scale=1.0" />

    <title>Madeline Clinton's HCDE 439 Physical Computing Page!</title>

    <link href="style.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <h1>Madeline Clinton's Assignment 3!</h1>
    <div class="header">
      <p>
        Here is all the documentation for assignment 3! For this assignment, I wanted to sense if the light level in the room is high enough for house plants. If the light level is good, the green LED will light up, getting lighter with the light level. If the light level is too low, the red LED will light up instead and get brigher the lower the light level gets.
      </p>
    </div>

    <div class="assignment">
      <img src="a3 images/circuit 3.jpeg" alt="Photo of a breadboard with two LEDs connected to an arduino board."/>
      <p>This photo shows the circuit. There are two LEDs, a photocell, 3 resistors, a breadboard, and an arduino board.</p>

      <img src="a3 images/circuit gif 3.gif" alt="A gif showing two LEDs getting brighter or dimmer based on light level."/>
      <p>This is the video of the LEDs getting brighter or dimmer based on light level.</p>

      <img src="a3 images/calculations and schematic 3.jpg" alt="Calculations for resistors and a schematic of two LEDS in paralell with resistors plus a photocell."/>
      <p>This photo shows how I calculated the resistor values for the circuit and the schematic I drew to represent the circuit.</p>

      <h2> Arduino Code</h2>
      <pre>
        // Constants that won't change
        const int analogInPin = A0;  // Analog input pin that the potentiometer is attached to
        const int analogOutPin = 5;  // Analog output pin that the red LED is attached to
        const int analogOutPin2 = 6; // Analog output pin that the green LED is attached to

        int sensorValue = 0;  // value read from light
        int redOutputValue = 0; // value output to the PWM (analog out) - red LED
        int greenOutputValue = 0;  // value output to the PWM (analog out) - green LED

        void setup() {
          // initialize serial communications at 9600 bps:
          Serial.begin(9600);
        }

        void loop() {
          // read the analog in value:
          sensorValue = analogRead(analogInPin);
          
          // contrain the sensor values based on light: red for low light and green for higher light
          int sensorValueRed = constrain(sensorValue, 350, 770);
          int sensorValueGreen = constrain(sensorValue, 700, 920);

          
          // map it to the range of the analog out: 
          redOutputValue = map(sensorValueRed, 770, 350, 0, 255); // red LED will be higher when light is lower
          greenOutputValue = map(sensorValueGreen, 700, 920, 0, 255); // green LED will be higher when light is higher
          
          // change the analog out value:
          if (sensorValue < 700) { // if the light is low enough, map red LED
            analogWrite(analogOutPin, redOutputValue);
          } else { // if the light is too high, don't turn on red LED
            analogWrite(analogOutPin, 0);
          }
          
          analogWrite(analogOutPin2, greenOutputValue);

          // print the results to the Serial Monitor:
          Serial.print("light sensor = ");
          Serial.print(sensorValue);
          Serial.print("\t RED output = ");
          Serial.println(redOutputValue);
          Serial.print("/t GREEN output = ");
          Serial.println(greenOutputValue);

          // wait 2 milliseconds before the next loop for the analog-to-digital
          // converter to settle after the last reading:
          delay(2);
        }

      </pre>

      <h2> Additional Questions</h2>
      <ol>
        <li>
          <h3>
            In your voltage divider, can the variable resistor be either R1 or R2 or does it need to be one or the other? Justify your answer with example calculations.
          </h3>
         <p>
            The voltage divider can be either R1 or R2, but it will change the voltage out range. When R1 is 0, the voltage out is 5v. When R2 is 0, the voltage out is 0v. When R1 and R2 are 10k Ohms, the voltage out is 2.5v. This means that R1 brings the voltage down when at 10k Ohms, while R2 brings the voltage up when at 10k Ohms. So you would pick R1 or R2 based on if you want the voltage to start low and go up or start high and go down.
          </p>
          <img src="a3 images/calculations.jpg" alt="Calculations showing voltage out for different resistor values in a voltage divider."/>
        </li>

        <li>
          <h3>
            Draw a graph where the x-axis is time and the y-axis is voltage. Plot the voltage at V-measure (where your pin is reading the voltage) of your voltage divider of your shared gif/video.
          </h3>
           <img src="a3 images/graph 3.jpg" alt="Graph showing voltage over time for the voltage divider circuit."/>
        </li>

        <li>
          <h3>
            AnalogWrite and analogRead are respectively 8-bit and 10-bit values. Imagine you had 10-bit PWM and a 16-bit analog-to-digital converter instead. How would this change your map() code? Explain your answer.
          </h3>
          <p>
            If I had a 16-bit analog-to-digital converter, that would mean that instead of 0-1023 values it would be 0-65536 (which is 2^16). This would change my map() code because I would have to adjust the input value range to be 0-65536 instead of 0-1023. The output range for the PWM would also need to change from 0-255 to 0-1023 because a 10-bit PWM has a range of 0-1023 (which is 2^10). To change my map() values, I would need to change the ratio of my values by multiplying the input values by 64 (65536/1023) and output by 4 (1023/255).
          </p>
        </li>

        <li>
          <h3>
            Did you use AI tools in completing this assignment? If yes, please provide details on how/when, as well as a brief reflection. If no, you can either leave this question blank, or provide other information if you'd like.
          </h3>
          <p>
            I used AI to ask some questions about the voltage divider question because I was able to do the calculations but I wasn't quite sure what they actually meant so I had it explain it to me.
          </p>
        </li>
      </ol>
    </div>
  </body>
</html>
