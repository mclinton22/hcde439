<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, maximum-scale=1.0" />

    <title>Madeline Clinton's HCDE 439 Physical Computing Page!</title>

    <link href="style.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <h1>Madeline Clinton's Assignment 2!</h1>
    <div class="header">
      <img src="a2 images/" />
      <p>Here is all the documentation for assignment 2!</p>
    </div>

    <div class="assignment">
      <img src="a2 images/" alt="Photo of a breadboard with three LEDs connected to an arduino board."/>
      <p>This photo shows the circuit. There are three LEDs, four resistors, a button, a breadboard, and an arduino board.</p>

      <img src="a2 images/" alt="A gif showing three LEDs fading high to low at the same time."/>
      <p>This is the video of the LEDs fading high to low at the same time.</p>

      <img src="a2 images/" alt="Calculations for resistors and a schematic of three LEDS in paralell with resistors plus a button."/>
      <p>This photo shows how I calculated the resistor values for the circuit and the schematic I drew to represent the circuit</p>

      <h2> Arduino Code</h2>
      <pre>
        const int led = 9;     // pin led is attached to
        const int led2 = 10;  // pin led2 is attached to
        const int led3 = 11;  // pin led3 is attached to
        const int buttonPin = 2; // pin button is attached to

        int brightness = 0;  // how bright the LED is
        int fadeAmount = 5;  // how many points to fade the LED by
        bool fade = false; // if the leds are fading or not
        int buttonState = 0; // button status - starts off/unpressed
        int lastButtonState = buttonState; // makes the

        // sets the leds at outputs and button as an input
        void setup() {
          pinMode(led, OUTPUT);
          pinMode(led2, OUTPUT);
          pinMode(led3, OUTPUT);

          pinMode(buttonPin, INPUT);
        }

        // the loop routine runs over and over again forever:
        void loop() {
            // makes the button state the actual state of the button
            buttonState = digitalRead(buttonPin);

          // if the button state is changing...
          if (buttonState == LOW && lastButtonState == HIGH) {
            // change fade to the opposite
            fade = !fade;

            // if not fading, turn leds off
            if (!fade) {
              digitalWrite(led, LOW);
              digitalWrite(led2, LOW);
              digitalWrite(led3, LOW);
            }
          }

          // update the last button state
          lastButtonState = buttonState;
          
          // if the leds are fading (boolean is true)
          if (fade) {
            for (int i = 0; i < 1; i++) {
              // change led brightness to current brightness
              analogWrite(led, brightness);
              analogWrite(led2, brightness);
              analogWrite(led3, brightness);

              // change the brightness for next time through the loop
              brightness += fadeAmount;

              // reverse the direction of the fading at the ends of the fade
              if (brightness <= 0 || brightness >= 255) {
                fadeAmount = -fadeAmount;
              }
              // wait for 30 milliseconds to see the dimming effect
              delay(30);
            }
          }    
        }
      </pre>

      <h2> Additional Questions</h2>
      <ol>
        <li>
          <h3>
            Draw a chart where the X axis is time and the Y axis is voltage. Draw 3 lines representing the voltage across an LED with analogWrite(led, 64), analogWrite(led, 128), and analogWrite(led, 255).
          </h3>
          <img src="a2 images/" alt="A drawing of an LED with 3 different analogWrite values."/>
        </li>

        <li>
          <h3>
            If all your LEDs were on simultaneously, what would the total current draw be? Is this above or below the total Arduino current draw limits? If all your LEDs were on, how long would your circuit run if powered by a 1200 mAh battery?
          </h3>
          <p>
            The total current draw would be 60mA if all three LEDs were on simultaneously (20mA each). This is below the Arduino's recommended maximum current draw of 200mA. If powered by a 1200 mAh battery, the circuit would run for about 20 hours (1200 mAh / 60 mA = 20 hours).
          </p>
        </li>

        <li>
          <h3>
            Measure and record the actual voltage across one of your LEDs when it's on. How does this compare to the theoretical forward voltage for your LED color?
          </h3>
          <p>
            The actual voltage for my red LED when it's on is 1.82V. This is within the theoretical forward voltage for red LEDs, which ranges from 1.8V to 2.2V.
          </p>
        </li>

        <li>
          <h3>
            Did you use AI tools in completing this assignment? If yes, please provide details on how/when, as well as a brief reflection. If no, you can either leave this question blank, or provide other information if you'd like.
          </h3>
          <p>
            I used ChatGPT to check my code - which did not prove helpful. This is because I had the GND connected to the wrong pin the whole time, which is why my code wasn't working.
          </p>
        </li>
      </ol>
    </div>
  </body>
</html>
